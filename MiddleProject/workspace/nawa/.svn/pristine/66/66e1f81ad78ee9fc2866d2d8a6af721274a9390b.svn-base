package meet.controller;

import java.io.IOException;
import java.util.List;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import meet.service.IMeetService;
import meet.service.MeetServiceImpl;
import meet.vo.MeetVO;

/**
 * Servlet implementation class meetSearch
 */
@WebServlet("/meetSearch")
public class meetSearch extends HttpServlet {
	private static final long serialVersionUID = 1L;
       
	
	protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
		// TODO Auto-generated method stub
		resp.getWriter().append("Served at: ").append(req.getContextPath());
	}

	
	protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
		IMeetService memService = MeetServiceImpl.getInstance();
		
		resp.setContentType("text/html;charset=UTF-8");
	    req.setCharacterEncoding("UTF-8");
		String search = req.getParameter("search"); //검색 빈칸 입력값
		/*String cate = req.getParameter("cate");
		String level = req.getParameter("level");
		String loc1 = req.getParameter("loc1");
		String loc2 = req.getParameter("loc2");*/
		
		MeetVO mv = new MeetVO();
		mv.setSearch(search);
		/*mv.setMcate_no(cate);
		mv.setMeet_level(level);
		mv.setMeet_loc(loc1); //loc1은 도로명주소앞부분.../근데 검색할때 선택할 주소1은 구기준임
		mv.setMeet_loc_detail(loc2);//loc2는 상세주소임../근데 검색할때 선택할 주소2는 동기준임*/
		
		/* List<meetVO> searchList = memService.searchMeet(); */
		
		List<MeetVO> meetList =  memService.meetSearch(mv);
	    
	    
	    
	    
	}

}
